# This is the directory holding ar and ranlib
tooldir := /usr/local/i386-gnu/bin

# This is a machine on which to run MiG.  (MiG writes CPU dependent code,
# so MiG has to be run on a machine that's the same as the one that will 
# run the eventual code.)  If you are not doing cross-compilation, then
# you need to set MIGCOM and MIG below to the plain pathnames of those
# two programs respectively.
# If the version of GCC on this version is not the same as CCVERSION,
# then you must set CCVERSION-$(mighost) in the same fashion as is
# done below for ernst.gnu.ai.mit.edu and douglas.gnu.ai.mit.edu.
mighost := ernst.gnu.ai.mit.edu

# Set these options to the GCC compiler spec (the correct value
# can be found in /usr/local/lib/lib-gcc).
CCTARGET=i386-gnu
hostname := $(shell hostname)
CCVERSION=$(firstword $(CCVERSION-$(hostname)) 2.6.2)
CCTYPE=-b $(CCTARGET) -V $(CCVERSION)
CCVERSION-douglas.gnu.ai.mit.edu = 2.5.7
CCVERSION-ernst.gnu.ai.mit.edu = 2.5.7
CCVERSION-duality.gnu.ai.mit.edu = 2.6.4

ccdir = /usr/local/lib/gcc-lib/$(CCTARGET)/$(CCVERSION)

ifndef BUILD_CC
export BUILD_CC := $(CC)
endif
CC=$(CCTARGET)-gcc $(CCTYPE) -O2 -pipe
ifeq (,$(wildcard /usr/local/lib/migcom))
MIGCOM=/usr/local/i386-gnu/lib/migcom
MIG=$(tooldir)/mig
else
MIGCOM=/usr/local/lib/migcom
MIG=mig
endif
CPP=$(CC) -E -x c
export CPP
AR=$(tooldir)/ar
RANLIB=$(tooldir)/ranlib
LD=$(tooldir)/ld -L$(ccdir)

INSTALL = install -c
INSTALL_DATA = $(INSTALL) -m 644
INSTALL_BIN = $(INSTALL) -m 755
#INSTALL_BIN=cp

machine := i386
