2002-08-28  Marcus Brinkmann  <marcus@gnu.org>

	* file-changed.c (cons_S_file_changed): Take NEW_CUR_LINE modulo
	VCONS->state.screen.lines where appropriate.  Adapt calculation of
	SCROLLING, and limit it to the screen size.
	Only scroll at all if there is something to scroll.
	Fix calculation of scrolled-in area.
	* vcons-refresh.c (cons_vcons_refresh): Take
	VCONS->state.screen.cur_line modulo VCONS->state.screen.lines.

2002-08-22  Marcus Brinkmann  <marcus@gnu.org>

	* demuxer.c, init-init.c, init-loop.c, opts-version.c,
	extra-version.c, dir-changed.c, file-changed.c,
	opts-std-startup.c, cons-lookup.c, cons-switch.c, vcons-remove.c,
	vcons-add.c, vcons-open.c, vcons-close.c, vcons-refresh.c, priv.h,
	mutations.h, cons.h: New files.
